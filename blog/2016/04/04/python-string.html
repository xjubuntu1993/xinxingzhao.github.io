<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Python字符串全面总结 - 好吧，我现在胡说了</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="/blog/2016/04/04/python-string.html">

        <meta name="author" content="xinxingzhao" />
        <meta name="keywords" content="Python,String" />
        <meta name="description" content="前言 字符串是在编码过程中处理得最频繁的数据结构，Python为字符串提供了丰富的字符串处理的功能。 字符串格式化 在字符串中插入%开头的字符，如果%后面跟的是S则表示是字符。 world = &#34;world&#34; print(&#34;Hello, %s&#34; % world) 如果是数字，则%后面跟的是d，同时会自动四舍五入，去掉小数点之后的数据。 str1 = &#34;version&#34; nu = 1.0 format = &#34;%s %d&#34; % (str, nu) print(format) 浮点型后面跟的f默认情况下会保留六位小数，也可以指定小数点位数。 print(&#34;浮点型: %f&#34; % 1.25) print(&#34;浮点型保留一位小数: %.1f&#34; % 1.25) print(&#34;浮点型保留两位小数: %.2f ..." />

        <meta property="og:site_name" content="好吧，我现在胡说了" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Python字符串全面总结"/>
        <meta property="og:url" content="/blog/2016/04/04/python-string.html"/>
        <meta property="og:description" content="前言 字符串是在编码过程中处理得最频繁的数据结构，Python为字符串提供了丰富的字符串处理的功能。 字符串格式化 在字符串中插入%开头的字符，如果%后面跟的是S则表示是字符。 world = &#34;world&#34; print(&#34;Hello, %s&#34; % world) 如果是数字，则%后面跟的是d，同时会自动四舍五入，去掉小数点之后的数据。 str1 = &#34;version&#34; nu = 1.0 format = &#34;%s %d&#34; % (str, nu) print(format) 浮点型后面跟的f默认情况下会保留六位小数，也可以指定小数点位数。 print(&#34;浮点型: %f&#34; % 1.25) print(&#34;浮点型保留一位小数: %.1f&#34; % 1.25) print(&#34;浮点型保留两位小数: %.2f ..."/>
        <meta property="article:published_time" content="2016-04-04" />
            <meta property="article:section" content="Python" />
            <meta property="article:tag" content="Python" />
            <meta property="article:tag" content="String" />
            <meta property="article:author" content="xinxingzhao" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>





</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
好吧，我现在胡说了            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="/pages/about.html">
                             About
                          </a></li>
                        <li >
                            <a href="/category/blog.html">Blog</a>
                        </li>
                        <li >
                            <a href="/category/linux.html">Linux</a>
                        </li>
                        <li >
                            <a href="/category/pelican.html">Pelican</a>
                        </li>
                        <li class="active">
                            <a href="/category/python.html">Python</a>
                        </li>
                        <li >
                            <a href="/category/vim.html">Vim</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/blog/2016/04/04/python-string.html"
                       rel="bookmark"
                       title="Permalink to Python字符串全面总结">
                        Python字符串全面总结
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-04-04T00:00:00+08:00"> 2016-04-04</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="/tag/python.html">Python</a>
        /
	<a href="/tag/string.html">String</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <h3>前言</h3>
<p>字符串是在编码过程中处理得最频繁的数据结构，Python为字符串提供了丰富的字符串处理的功能。</p>
<h3>字符串格式化</h3>
<p>在字符串中插入<strong>%</strong>开头的字符，如果<strong>%</strong>后面跟的是<strong>S</strong>则表示是字符。</p>
<div class="highlight"><pre><span></span><span class="n">world</span> <span class="o">=</span> <span class="s2">&quot;world&quot;</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Hello, </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">world</span><span class="p">)</span>
</pre></div>


<p>如果是数字，则<strong>%</strong>后面跟的是d，同时会自动四舍五入，去掉小数点之后的数据。</p>
<div class="highlight"><pre><span></span><span class="n">str1</span> <span class="o">=</span> <span class="s2">&quot;version&quot;</span>
<span class="n">nu</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">format</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">nu</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">format</span><span class="p">)</span>
</pre></div>


<p>浮点型后面跟的<strong>f</strong>默认情况下会保留六位小数，也可以指定小数点位数。</p>
<div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;浮点型: </span><span class="si">%f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="mf">1.25</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;浮点型保留一位小数: </span><span class="si">%.1f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="mf">1.25</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;浮点型保留两位小数: </span><span class="si">%.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="mf">1.254</span><span class="p">)</span>
</pre></div>


<p>还可以通过字典的形式格式化字符串。</p>
<div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%(version)s</span><span class="s2">: </span><span class="si">%(num).1f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">{</span><span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="s2">&quot;num&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="c1"># 也可以调换version和num的顺序而不影响输出</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%(version)s</span><span class="s2">: </span><span class="si">%(num).1f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">{</span><span class="s2">&quot;num&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;version&quot;</span><span class="p">})</span>
</pre></div>


<h3>字符串合并</h3>
<p>Python使用"+"直接连接字符串，如果两边都是字符串就进行字符串连接，如果两边都是数字就进行
加法运算，如果两边的数据类型不一样就会抛异常。</p>
<div class="highlight"><pre><span></span><span class="n">str1</span> <span class="o">=</span> <span class="s2">&quot;hello &quot;</span>
<span class="n">str2</span> <span class="o">=</span> <span class="s2">&quot;world &quot;</span>
<span class="n">str3</span> <span class="o">=</span> <span class="s2">&quot;hello &quot;</span>
<span class="n">str4</span> <span class="o">=</span> <span class="s2">&quot;xinxingzhao&quot;</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">str1</span> <span class="o">+</span> <span class="n">str2</span> <span class="o">+</span> <span class="n">str3</span>
<span class="n">result</span> <span class="o">+=</span> <span class="n">str4</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>


<p>还有一种合并字符串的方式是用<strong>join</strong>函数。</p>
<div class="highlight"><pre><span></span><span class="n">strs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;hello &#39;</span><span class="p">,</span> <span class="s1">&#39;world &#39;</span><span class="p">,</span> <span class="s1">&#39;hello &#39;</span><span class="p">,</span> <span class="s1">&#39;xinxingzhao&#39;</span><span class="p">]</span>
<span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">strs</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>


<p>如果我们采用Python的连接操作的这种功能的话就显得很高大上了哈。这里我们需要用到一个<strong>reduce</strong>
的函数。</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="nb">reduce</span>
<span class="kn">import</span> <span class="nn">operator</span>
<span class="n">strs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;hello &#39;</span><span class="p">,</span> <span class="s1">&#39;world &#39;</span><span class="p">,</span> <span class="s1">&#39;hello &#39;</span><span class="p">,</span> <span class="s1">&#39;xinxingzhao&#39;</span><span class="p">]</span>
<span class="n">result</span> <span class="o">=</span> <span class="nb">reduce</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">add</span><span class="p">,</span> <span class="n">strs</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>


<h3>字符串截取</h3>
<p>字符串截取是在开发中经常用到的了，所以Python给我们提供了非常方便的字符串截取的办法。</p>
<p>通过索引获得字符串中的字符</p>
<div class="highlight"><pre><span></span><span class="n">word</span> <span class="o">=</span> <span class="s1">&#39;xinxngzhao&#39;</span>
<span class="k">print</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</pre></div>


<p>截取子字符串的时候就可以用切片的方法，语法格式如下</p>
<div class="highlight"><pre><span></span><span class="n">string</span><span class="p">[</span><span class="n">start</span> <span class="p">:</span> <span class="n">end</span> <span class="p">:</span> <span class="n">step</span>
</pre></div>


<p>string表示被切片的字符串，start表示从第几个字符开始切，end表示切到第几个字符，
step表示每次切多少哥字符。</p>
<div class="highlight"><pre><span></span><span class="n">str1</span> <span class="o">=</span> <span class="s1">&#39;hello xinxingzhao&#39;</span>
<span class="k">print</span><span class="p">(</span><span class="n">str1</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">str1</span><span class="p">[::</span> <span class="mi">2</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">str1</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">])</span>
</pre></div>


<p>除了用切片的办法，还有就是用<strong>split</strong>函数，语法如下</p>
<div class="highlight"><pre><span></span><span class="n">split</span><span class="p">([</span><span class="n">char</span><span class="p">]</span> <span class="p">[,</span> <span class="n">num</span><span class="p">])</span>
</pre></div>


<p>char表示用于分割的字符，默认情况下是以空格作为分割字符，num表示分割多少次，
默认情况会以char在字符串中出现的次数来进行分割的。</p>
<div class="highlight"><pre><span></span><span class="n">sentence</span> <span class="o">=</span> <span class="s2">&quot;xinxingzhao said: 1, 2, 3, 4&quot;</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;使用空格进行分割:&quot;</span><span class="p">,</span> <span class="n">sentence</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;使用逗号进行分割:&quot;</span><span class="p">,</span> <span class="n">sentence</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;使用两个逗号进行分割:&quot;</span><span class="p">,</span> <span class="n">sentence</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>


<p>注意: 字符串进行连接，分割，切片之后，原字符串保持不变，Python会给新的字符串
重新分配空间。可以通过下面的代码进行验证。</p>
<div class="highlight"><pre><span></span><span class="n">str1</span> <span class="o">=</span> <span class="s2">&quot;a&quot;</span>
<span class="k">print</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">str1</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">str1</span> <span class="o">+</span> <span class="s1">&#39;b&#39;</span><span class="p">))</span>
</pre></div>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://github.com/xinxingzhao"><i class="fa fa-github-square fa-lg"></i> github</a></li>
              </ul>
            </li>






    <li class="list-group-item"><h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
    </li>
    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://getpelican.com/" target="_blank">
                Pelican
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://python.org/" target="_blank">
                Python
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 xinxingzhao
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>

    <!-- GitHub JS -->
    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = '/theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'xinxingzhao',
                count: 5,
                skip_forks: true,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="/theme/js/github.js" type="text/javascript"></script>
    <!-- End GitHub JS Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-75815014-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

</body>
</html>